{"name":"Lift","tagline":"PHP script for quick file sync with FTP server.","body":"#lift\r\n\r\n## What and Why\r\n\r\nPHP script for quick sync with FTP server.\r\n\r\nThe world is full of wonderfull tecnology that helps you deploy your project in marvelous ways: ssh tools, cloud API, docker, git deploy, bla bla bla. \r\n\r\nUnfortunately happens that you are stuck with an prehistoric shared PHP/MYSQL server that can offer you only FTP access.\r\n\r\nIf this is the scene and your project it's fat, keeping the server in sync can be very tedious. Well, FTP clients come in your help with tools to compare files before update but the process can be very slow (especially if you play with composer and your file date/time mod time is not trustable).\r\n\r\nLift can speed up your \"old school\" project deployment by keeping a local index of remote files status. \r\nWhen the local index is not trustable (remote files changed by other way ecc.) Lift can rescan remote server using a PHP script with great time benefits.\r\n\r\n## Install and Configure\r\n\r\n### Download the phar on your project root\r\n\r\nDownload from this url: https://github.com/FbN/lift/raw/master/lift.phar and save it in your project root\r\n\r\n```\r\nmyproject> curl -O https://github.com/FbN/lift/raw/master/lift.phar\r\n```\r\n\r\n### Test it\r\n\r\n```\r\nmyproject> php lift.phar\r\n```\r\n\r\nIf all is working you will see the lift help.\r\n\r\n### Configure\r\n\r\nNow you have Lift ready for use but first you have to configure it.\r\n\r\nCreate a json file named lift.json in your project root\r\n\r\n```\r\n> vi lift.json\r\n```\r\n\r\nCopy this json and edit it to feet your server and needs\r\n\r\n```javascript\r\n{\r\n    \"hosts\": {\r\n        \"prod\": {\r\n        \t\"host\": \"mybudgetphpserver.com\",\r\n        \t\"username\": \"myftpuser\",\r\n        \t\"password\": \"myftppassword\",\r\n        \t\"folder\": \"/httpdocs\",\r\n        \t\"url\": \"http://mybudgetphpserver.com\",\r\n        \t\"remote-script-name\": \"_r.php\"\r\n        },\r\n        \"staging\": {\r\n        \t\"host\": \"192.168.1.1\",\r\n        \t\"username\": \"myftpuser\",\r\n        \t\"password\": \"myftppassword\",\r\n        \t\"folder\": \"/httpdocs\",\r\n        \t\"url\": \"http://testserver.lan\",\r\n        \t\"remote-script-name\": \"_r.php\"\r\n        }\r\n    },\r\n    \"defaut-host\": \"prod\",\r\n    \"ignore\": [\r\n    \t\"/.\",\r\n    \t\"^/lift.\"\r\n    \t\"^/composer.\"\r\n    ]\r\n}\r\n```\r\n\r\nIn this JSON sample we have declared two servers to sync. When you call lift if you not specify the server to use it will choose the one specified in by \"default-host\" options.\r\n\r\nServer configuration is obvious (host, login, password bla bla bla). In \"folder\" you have to specify the web root folder, typically is \"/httpdocs\". \r\n\r\n\"remote-script-name\" is the name Lift give to the script it upload for remote scan. It will uploaded, called prefixing it with the url you write on \"url\" and than delete it.\r\n\r\nLast there is the ignore section. There you configure rules to ignore files that not must be uploaded.\r\n\r\nThe rules are very simple, by examples:\r\n\r\n```\r\n^/lift.\r\n```\r\nIgnore any file path starting with \"/lift.\". So a file named \"lift.json\" or \"lift.phar\" in your project root will be ignored.\r\n\r\n```\r\n.tmp$\r\n```\r\nWill ignore any file path ending with \".tmp\"\r\n\r\n```\r\n_inc.\r\n```\r\nWill ignore any file path containing '_inc.'\r\n\r\nN.B. By file path Lift assume an absolute path starting from your project root.\r\n\r\n## Use it\r\n\r\nSimply run\r\n\r\n```\r\n> php lift.phar sync --remote-index\r\n```\r\n\r\nLift will reindex the remote FTP server content uploading a tempory PHP script and than will upload only the changed files. The remote indexing is not necessary every time. If you are sure noone have changed the remote files afer your last sync you can run it withoute the \"--remote-index\" option getting a better performance.\r\n\r\nOther options upported are:\r\n\r\n```\r\n --defaut-host (-H)    Host name to upload.\r\n --remote-index        Dom't trust index. Remote check files status.\r\n --pretend (-p)        Pretend, do nothing.\r\n --check-time          Lift compare files by md5 checksums. If you can trust your files modification time, you can                           speedup the upload. Can be used with check-size.\r\n --list-new            New files\r\n --list-modified       Changed files\r\n```\r\n\r\n## License\r\nMIT License http://opensource.org/licenses/MIT\r\n\r\n## The End\r\nLift is in embrional status. It seems to work but a lot of work can be done do improve It. So star the page and keep an eye on it :).\r\n\r\nFabiano Taioli\r\nftaioli@gmail.com\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","google":"UA-56705715-1","note":"Don't delete this file! It's used internally to help with page regeneration."}